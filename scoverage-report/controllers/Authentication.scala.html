<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title id="title">
          controllers/Authentication.scala.html
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/css/theme.default.min.css" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/js/jquery.tablesorter.min.js"></script><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css"/><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script type="text/javascript">
        $(document).ready(function() {$(".tablesorter").tablesorter();});
      </script>
        <style>
          table.codegrid { font-family: monospace; font-size: 12px; width: auto!important; }table.statementlist { width: auto!important; font-size: 13px; } table.codegrid td { padding: 0!important; border: 0!important } table td.linenumber { width: 40px!important; } 
        </style>
      </head>
      <body style="font-family: monospace;">
        <ul class="nav nav-tabs">
          <li>
            <a href="#codegrid" data-toggle="tab">Codegrid</a>
          </li>
          <li>
            <a href="#statementlist" data-toggle="tab">Statement List</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="codegrid">
            <pre style='font-size: 12pt; font-family: courier;'>1 <span style=''>package controllers
</span>2 <span style=''>
</span>3 <span style=''>import scala.concurrent.Future
</span>4 <span style=''>import scala.concurrent.duration._
</span>5 <span style=''>
</span>6 <span style=''>import com.mohiva.play.silhouette.api._
</span>7 <span style=''>import com.mohiva.play.silhouette.api.Authenticator.Implicits._
</span>8 <span style=''>import com.mohiva.play.silhouette.api.exceptions.ProviderException
</span>9 <span style=''>import com.mohiva.play.silhouette.api.repositories.AuthInfoRepository
</span>10 <span style=''>import com.mohiva.play.silhouette.api.util.{Clock, Credentials}
</span>11 <span style=''>import com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException
</span>12 <span style=''>import com.mohiva.play.silhouette.impl.providers._
</span>13 <span style=''>import javax.inject.Inject
</span>14 <span style=''>import play.api.{Configuration, Logger}
</span>15 <span style=''>import play.api.libs.concurrent.Execution.Implicits._
</span>16 <span style=''>import play.api.libs.json._
</span>17 <span style=''>import play.api.mvc._
</span>18 <span style=''>import play.api.cache.AsyncCacheApi
</span>19 <span style=''>import whatson.auth._
</span>20 <span style=''>import whatson.service._
</span>21 <span style=''>import com.mohiva.play.silhouette.api.util.PasswordHasher
</span>22 <span style=''>import whatson.model._
</span>23 <span style=''>import whatson.model.SignInForm._
</span>24 <span style=''>import play.api.db.slick.{DatabaseConfigProvider, HasDatabaseConfigProvider}
</span>25 <span style=''>import javax.inject._
</span>26 <span style=''>import slick.jdbc.JdbcProfile
</span>27 <span style=''>import whatson.db.LoginTable
</span>28 <span style=''>import slick.jdbc.PostgresProfile.api._
</span>29 <span style=''>
</span>30 <span style=''>class Authentication@Inject() (
</span>31 <span style=''>  silhouette: Silhouette[AuthEnv],
</span>32 <span style=''>  loginService: LoginService,
</span>33 <span style=''>  authInfoRepository: AuthInfoRepository,
</span>34 <span style=''>  credentialsProvider: CredentialsProvider,
</span>35 <span style=''>  socialProviderRegistry: SocialProviderRegistry,
</span>36 <span style=''>  configuration: Configuration,
</span>37 <span style=''>  clock: Clock,
</span>38 <span style=''>  cc: ControllerComponents,
</span>39 <span style=''>  cache: AsyncCacheApi,
</span>40 <span style=''>  passwordHasher: PasswordHasher,
</span>41 <span style=''>  protected val dbConfigProvider: DatabaseConfigProvider)
</span>42 <span style=''>    extends AbstractController(cc) with HasDatabaseConfigProvider[JdbcProfile] {
</span>43 <span style=''>
</span>44 <span style=''>
</span>45 <span style=''>
</span>46 <span style=''>  val log = </span><span style='background: #AEF1AE'>Logger(&quot;api.authentication&quot;)</span><span style=''>
</span>47 <span style=''>
</span>48 <span style=''>  /**
</span>49 <span style=''>    * Handles a login request with the login data in the request body.
</span>50 <span style=''>    *
</span>51 <span style=''>    * @return The answer: 200 on success, 401 on wrong credentials
</span>52 <span style=''>    */
</span>53 <span style=''>  def login = </span><span style='background: #AEF1AE'>Action.async(parse.json) { implicit request =&gt;
</span>54 <span style=''></span><span style='background: #AEF1AE'>    request.body.validate[SignInForm].map { data =&gt;
</span>55 <span style=''></span><span style='background: #AEF1AE'>      credentialsProvider.authenticate(Credentials(data.email, data.password)).flatMap { loginInfo =&gt;
</span>56 <span style=''></span><span style='background: #AEF1AE'>        loginService.retrieve(loginInfo).flatMap {
</span>57 <span style=''></span><span style='background: #AEF1AE'>          case Some(login) =&gt; silhouette.env.authenticatorService.create(loginInfo).map {
</span>58 <span style=''></span><span style='background: #AEF1AE'>            case authenticator if data.rememberMe =&gt;
</span>59 <span style=''></span><span style='background: #AEF1AE'>              val c = configuration.underlying
</span>60 <span style=''></span><span style='background: #AEF1AE'>              authenticator.copy(
</span>61 <span style=''></span><span style='background: #AEF1AE'>                expirationDateTime = clock.now + FiniteDuration(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;),&quot;ms&quot;),
</span>62 <span style=''></span><span style='background: #AEF1AE'>                idleTimeout = Some(FiniteDuration(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;),&quot;ms&quot;))
</span>63 <span style=''></span><span style='background: #AEF1AE'>              )
</span>64 <span style=''></span><span style='background: #AEF1AE'>            case authenticator =&gt; authenticator
</span>65 <span style=''></span><span style='background: #AEF1AE'>          }.flatMap { authenticator =&gt;
</span>66 <span style=''></span><span style='background: #AEF1AE'>            silhouette.env.eventBus.publish(LoginEvent(login, request))
</span>67 <span style=''></span><span style='background: #AEF1AE'>            silhouette.env.authenticatorService.init(authenticator).map { token =&gt;
</span>68 <span style=''></span><span style='background: #AEF1AE'>              Ok(Json.obj(&quot;token&quot; -&gt; token))
</span>69 <span style=''></span><span style='background: #AEF1AE'>            }
</span>70 <span style=''></span><span style='background: #AEF1AE'>          }
</span>71 <span style=''></span><span style='background: #AEF1AE'>          case None =&gt; </span><span style='background: #F0ADAD'>Future.failed(new IdentityNotFoundException(&quot;Couldn't find user&quot;))</span><span style='background: #AEF1AE'>
</span>72 <span style=''></span><span style='background: #AEF1AE'>        }
</span>73 <span style=''></span><span style='background: #AEF1AE'>      }.recover {
</span>74 <span style=''></span><span style='background: #AEF1AE'>        case e: ProviderException =&gt;
</span>75 <span style=''></span><span style='background: #AEF1AE'>          Unauthorized(Json.obj(&quot;message&quot; -&gt; &quot;unauthorized&quot;))
</span>76 <span style=''></span><span style='background: #AEF1AE'>      }
</span>77 <span style=''></span><span style='background: #AEF1AE'>    }.recoverTotal {
</span>78 <span style=''></span><span style='background: #AEF1AE'>      case error =&gt;
</span>79 <span style=''></span><span style='background: #AEF1AE'>        </span><span style='background: #F0ADAD'>Future.successful(Unauthorized(Json.obj(&quot;message&quot; -&gt; &quot;invalid credentials&quot;)))</span><span style='background: #AEF1AE'>
</span>80 <span style=''></span><span style='background: #AEF1AE'>    }
</span>81 <span style=''></span><span style='background: #AEF1AE'>  }</span><span style=''>
</span>82 <span style=''>
</span>83 <span style=''>  /**
</span>84 <span style=''>    * Manages the sign out action.
</span>85 <span style=''>    * Since we are using JWT wich are stateless this has no effect.
</span>86 <span style=''>    */
</span>87 <span style=''>  def signOut = </span><span style='background: #AEF1AE'>silhouette.SecuredAction.async { implicit request =&gt;
</span>88 <span style=''></span><span style='background: #AEF1AE'>    silhouette.env.eventBus.publish(LogoutEvent(request.identity, request))
</span>89 <span style=''></span><span style='background: #AEF1AE'>    silhouette.env.authenticatorService.discard(request.authenticator, Ok)
</span>90 <span style=''></span><span style='background: #AEF1AE'>  }</span><span style=''>
</span>91 <span style=''>}
</span></pre>
          </div>
          <div class="tab-pane" id="statementlist">
            <table cellspacing="0" cellpadding="0" class="table statementlist">
      <tr>
        <th>Line</th>
        <th>Stmt Id</th>
        <th>Pos</th>
        <th>Tree</th>
        <th>Symbol</th>
        <th>Code</th>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          1
        </td>
        <td>
          1609
          -
          1637
        </td>
        <td>
          Apply
        </td>
        <td>
          play.api.Logger.apply
        </td>
        <td style="background: #AEF1AE">
          play.api.Logger.apply(&quot;api.authentication&quot;)
        </td>
      </tr><tr>
        <td>
          53
        </td>
        <td>
          2
        </td>
        <td>
          1823
          -
          1833
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.mvc.PlayBodyParsers.json
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.parse.json
        </td>
      </tr><tr>
        <td>
          53
        </td>
        <td>
          65
        </td>
        <td>
          1810
          -
          3247
        </td>
        <td>
          Apply
        </td>
        <td>
          play.api.mvc.ActionBuilder.async
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.Action.async[play.api.libs.json.JsValue](Authentication.this.parse.json)(((implicit request: play.api.mvc.Request[play.api.libs.json.JsValue]) =&gt; request.body.validate[whatson.model.SignInForm](whatson.model.SignInForm.dataReads).map[scala.concurrent.Future[play.api.mvc.Result]](((data: whatson.model.SignInForm) =&gt; Authentication.this.credentialsProvider.authenticate(com.mohiva.play.silhouette.api.util.Credentials.apply(data.email, data.password)).flatMap[play.api.mvc.Result](((loginInfo: com.mohiva.play.silhouette.api.LoginInfo) =&gt; Authentication.this.loginService.retrieve(loginInfo).flatMap[play.api.mvc.Result](((x0$1: Option[whatson.model.Login]) =&gt; x0$1 match {
  case (value: whatson.model.Login)Some[whatson.model.Login]((login @ _)) =&gt; Authentication.this.silhouette.env.authenticatorService.create(loginInfo)(request).map[com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator](((x0$2: whatson.auth.AuthEnv#A) =&gt; x0$2 match {
  case (authenticator @ _) if data.rememberMe =&gt; {
    val c: com.typesafe.config.Config = Authentication.this.configuration.underlying;
    {
      &lt;artifact&gt; val x$1: org.joda.time.DateTime = com.mohiva.play.silhouette.api.Authenticator.Implicits.RichDateTime(Authentication.this.clock.now).+(scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$2: Some[scala.concurrent.duration.FiniteDuration] @scala.reflect.internal.annotations.uncheckedBounds = scala.Some.apply[scala.concurrent.duration.FiniteDuration](scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$3: String = authenticator.copy$default$1;
      &lt;artifact&gt; val x$4: com.mohiva.play.silhouette.api.LoginInfo = authenticator.copy$default$2;
      &lt;artifact&gt; val x$5: org.joda.time.DateTime = authenticator.copy$default$3;
      &lt;artifact&gt; val x$6: Option[play.api.libs.json.JsObject] @scala.reflect.internal.annotations.uncheckedBounds = authenticator.copy$default$6;
      authenticator.copy(x$3, x$4, x$5, x$1, x$2, x$6)
    }
  }
  case (authenticator @ _) =&gt; authenticator
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext).flatMap[play.api.mvc.Result](((authenticator: com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator) =&gt; {
    Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LoginEvent.apply[whatson.model.Login](login, request));
    Authentication.this.silhouette.env.authenticatorService.init(authenticator)(request).map[play.api.mvc.Result](((token: whatson.auth.AuthEnv#A#Value) =&gt; Authentication.this.Ok.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  }))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  case scala.None =&gt; scala.concurrent.Future.failed[Nothing](new com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException(&quot;Couldn\'t find user&quot;, exceptions.this.IdentityNotFoundException.&lt;init&gt;$default$2))
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext)))(play.api.libs.concurrent.Execution.Implicits.defaultContext).recover[play.api.mvc.Result](({
  @SerialVersionUID(value = 0) final &lt;synthetic&gt; class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,play.api.mvc.Result] with Serializable {
    def &lt;init&gt;(): &lt;$anon: Throwable =&gt; play.api.mvc.Result&gt; = {
      $anonfun.super.&lt;init&gt;();
      ()
    };
    final override def applyOrElse[A1 &lt;: Throwable, B1 &gt;: play.api.mvc.Result](x1: A1, default: A1 =&gt; B1): B1 = ((x1.asInstanceOf[Throwable]: Throwable): Throwable @unchecked) match {
      case (e @ (_: com.mohiva.play.silhouette.api.exceptions.ProviderException)) =&gt; Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;unauthorized&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)
      case (defaultCase$ @ _) =&gt; default.apply(x1)
    };
    final def isDefinedAt(x1: Throwable): Boolean = ((x1.asInstanceOf[Throwable]: Throwable): Throwable @unchecked) match {
      case (e @ (_: com.mohiva.play.silhouette.api.exceptions.ProviderException)) =&gt; true
      case (defaultCase$ @ _) =&gt; false
    }
  };
  new $anonfun()
}: PartialFunction[Throwable,play.api.mvc.Result]))(play.api.libs.concurrent.Execution.Implicits.defaultContext))).recoverTotal[scala.concurrent.Future[play.api.mvc.Result]](((x0$3: play.api.libs.json.JsError) =&gt; x0$3 match {
  case (error @ _) =&gt; scala.concurrent.Future.successful[play.api.mvc.Result](Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;invalid credentials&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue))
}))))
        </td>
      </tr><tr>
        <td>
          54
        </td>
        <td>
          3
        </td>
        <td>
          1882
          -
          1882
        </td>
        <td>
          Select
        </td>
        <td>
          whatson.model.SignInForm.dataReads
        </td>
        <td style="background: #AEF1AE">
          whatson.model.SignInForm.dataReads
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          5
        </td>
        <td>
          1972
          -
          1985
        </td>
        <td>
          Select
        </td>
        <td>
          whatson.model.SignInForm.password
        </td>
        <td style="background: #AEF1AE">
          data.password
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          4
        </td>
        <td>
          1960
          -
          1970
        </td>
        <td>
          Select
        </td>
        <td>
          whatson.model.SignInForm.email
        </td>
        <td style="background: #AEF1AE">
          data.email
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          43
        </td>
        <td>
          1996
          -
          1996
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          6
        </td>
        <td>
          1948
          -
          1986
        </td>
        <td>
          Apply
        </td>
        <td>
          com.mohiva.play.silhouette.api.util.Credentials.apply
        </td>
        <td style="background: #AEF1AE">
          com.mohiva.play.silhouette.api.util.Credentials.apply(data.email, data.password)
        </td>
      </tr><tr>
        <td>
          56
        </td>
        <td>
          41
        </td>
        <td>
          2060
          -
          2060
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
      </tr><tr>
        <td>
          56
        </td>
        <td>
          42
        </td>
        <td>
          2019
          -
          2985
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.concurrent.Future.flatMap
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.loginService.retrieve(loginInfo).flatMap[play.api.mvc.Result](((x0$1: Option[whatson.model.Login]) =&gt; x0$1 match {
  case (value: whatson.model.Login)Some[whatson.model.Login]((login @ _)) =&gt; Authentication.this.silhouette.env.authenticatorService.create(loginInfo)(request).map[com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator](((x0$2: whatson.auth.AuthEnv#A) =&gt; x0$2 match {
  case (authenticator @ _) if data.rememberMe =&gt; {
    val c: com.typesafe.config.Config = Authentication.this.configuration.underlying;
    {
      &lt;artifact&gt; val x$1: org.joda.time.DateTime = com.mohiva.play.silhouette.api.Authenticator.Implicits.RichDateTime(Authentication.this.clock.now).+(scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$2: Some[scala.concurrent.duration.FiniteDuration] @scala.reflect.internal.annotations.uncheckedBounds = scala.Some.apply[scala.concurrent.duration.FiniteDuration](scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$3: String = authenticator.copy$default$1;
      &lt;artifact&gt; val x$4: com.mohiva.play.silhouette.api.LoginInfo = authenticator.copy$default$2;
      &lt;artifact&gt; val x$5: org.joda.time.DateTime = authenticator.copy$default$3;
      &lt;artifact&gt; val x$6: Option[play.api.libs.json.JsObject] @scala.reflect.internal.annotations.uncheckedBounds = authenticator.copy$default$6;
      authenticator.copy(x$3, x$4, x$5, x$1, x$2, x$6)
    }
  }
  case (authenticator @ _) =&gt; authenticator
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext).flatMap[play.api.mvc.Result](((authenticator: com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator) =&gt; {
    Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LoginEvent.apply[whatson.model.Login](login, request));
    Authentication.this.silhouette.env.authenticatorService.init(authenticator)(request).map[play.api.mvc.Result](((token: whatson.auth.AuthEnv#A#Value) =&gt; Authentication.this.Ok.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  }))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  case scala.None =&gt; scala.concurrent.Future.failed[Nothing](new com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException(&quot;Couldn\'t find user&quot;, exceptions.this.IdentityNotFoundException.&lt;init&gt;$default$2))
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
        </td>
      </tr><tr>
        <td>
          57
        </td>
        <td>
          23
        </td>
        <td>
          2150
          -
          2150
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
      </tr><tr>
        <td>
          58
        </td>
        <td>
          7
        </td>
        <td>
          2186
          -
          2201
        </td>
        <td>
          Select
        </td>
        <td>
          whatson.model.SignInForm.rememberMe
        </td>
        <td style="background: #AEF1AE">
          data.rememberMe
        </td>
      </tr><tr>
        <td>
          59
        </td>
        <td>
          8
        </td>
        <td>
          2227
          -
          2251
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.Configuration.underlying
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.configuration.underlying
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          20
        </td>
        <td>
          2280
          -
          2280
        </td>
        <td>
          Select
        </td>
        <td>
          com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator.copy$default$3
        </td>
        <td style="background: #AEF1AE">
          authenticator.copy$default$3
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          22
        </td>
        <td>
          2266
          -
          2572
        </td>
        <td>
          Apply
        </td>
        <td>
          com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator.copy
        </td>
        <td style="background: #AEF1AE">
          authenticator.copy(x$3, x$4, x$5, x$1, x$2, x$6)
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          19
        </td>
        <td>
          2280
          -
          2280
        </td>
        <td>
          Select
        </td>
        <td>
          com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator.copy$default$2
        </td>
        <td style="background: #AEF1AE">
          authenticator.copy$default$2
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          18
        </td>
        <td>
          2280
          -
          2280
        </td>
        <td>
          Select
        </td>
        <td>
          com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator.copy$default$1
        </td>
        <td style="background: #AEF1AE">
          authenticator.copy$default$1
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          21
        </td>
        <td>
          2280
          -
          2280
        </td>
        <td>
          Select
        </td>
        <td>
          com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator.copy$default$6
        </td>
        <td style="background: #AEF1AE">
          authenticator.copy$default$6
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          11
        </td>
        <td>
          2419
          -
          2423
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;ms&quot;
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          13
        </td>
        <td>
          2323
          -
          2424
        </td>
        <td>
          Apply
        </td>
        <td>
          com.mohiva.play.silhouette.api.Authenticator.Implicits.RichDateTime.+
        </td>
        <td style="background: #AEF1AE">
          com.mohiva.play.silhouette.api.Authenticator.Implicits.RichDateTime(Authentication.this.clock.now).+(scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;), &quot;ms&quot;))
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          10
        </td>
        <td>
          2350
          -
          2418
        </td>
        <td>
          Apply
        </td>
        <td>
          com.typesafe.config.Config.getLong
        </td>
        <td style="background: #AEF1AE">
          c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;)
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          9
        </td>
        <td>
          2323
          -
          2332
        </td>
        <td>
          Select
        </td>
        <td>
          com.mohiva.play.silhouette.api.util.Clock.now
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.clock.now
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          12
        </td>
        <td>
          2335
          -
          2424
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.concurrent.duration.FiniteDuration.apply
        </td>
        <td style="background: #AEF1AE">
          scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;), &quot;ms&quot;)
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          17
        </td>
        <td>
          2456
          -
          2556
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Some.apply
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[scala.concurrent.duration.FiniteDuration](scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;), &quot;ms&quot;))
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          14
        </td>
        <td>
          2476
          -
          2549
        </td>
        <td>
          Apply
        </td>
        <td>
          com.typesafe.config.Config.getLong
        </td>
        <td style="background: #AEF1AE">
          c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;)
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          16
        </td>
        <td>
          2461
          -
          2555
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.concurrent.duration.FiniteDuration.apply
        </td>
        <td style="background: #AEF1AE">
          scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;), &quot;ms&quot;)
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          15
        </td>
        <td>
          2550
          -
          2554
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;ms&quot;
        </td>
      </tr><tr>
        <td>
          65
        </td>
        <td>
          35
        </td>
        <td>
          2641
          -
          2641
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
      </tr><tr>
        <td>
          65
        </td>
        <td>
          36
        </td>
        <td>
          2092
          -
          2885
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.concurrent.Future.flatMap
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.silhouette.env.authenticatorService.create(loginInfo)(request).map[com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator](((x0$2: whatson.auth.AuthEnv#A) =&gt; x0$2 match {
  case (authenticator @ _) if data.rememberMe =&gt; {
    val c: com.typesafe.config.Config = Authentication.this.configuration.underlying;
    {
      &lt;artifact&gt; val x$1: org.joda.time.DateTime = com.mohiva.play.silhouette.api.Authenticator.Implicits.RichDateTime(Authentication.this.clock.now).+(scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$2: Some[scala.concurrent.duration.FiniteDuration] @scala.reflect.internal.annotations.uncheckedBounds = scala.Some.apply[scala.concurrent.duration.FiniteDuration](scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$3: String = authenticator.copy$default$1;
      &lt;artifact&gt; val x$4: com.mohiva.play.silhouette.api.LoginInfo = authenticator.copy$default$2;
      &lt;artifact&gt; val x$5: org.joda.time.DateTime = authenticator.copy$default$3;
      &lt;artifact&gt; val x$6: Option[play.api.libs.json.JsObject] @scala.reflect.internal.annotations.uncheckedBounds = authenticator.copy$default$6;
      authenticator.copy(x$3, x$4, x$5, x$1, x$2, x$6)
    }
  }
  case (authenticator @ _) =&gt; authenticator
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext).flatMap[play.api.mvc.Result](((authenticator: com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator) =&gt; {
  Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LoginEvent.apply[whatson.model.Login](login, request));
  Authentication.this.silhouette.env.authenticatorService.init(authenticator)(request).map[play.api.mvc.Result](((token: whatson.auth.AuthEnv#A#Value) =&gt; Authentication.this.Ok.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
        </td>
      </tr><tr>
        <td>
          66
        </td>
        <td>
          25
        </td>
        <td>
          2672
          -
          2731
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.event.SubchannelClassification.publish
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LoginEvent.apply[whatson.model.Login](login, request))
        </td>
      </tr><tr>
        <td>
          66
        </td>
        <td>
          24
        </td>
        <td>
          2704
          -
          2730
        </td>
        <td>
          Apply
        </td>
        <td>
          com.mohiva.play.silhouette.api.LoginEvent.apply
        </td>
        <td style="background: #AEF1AE">
          com.mohiva.play.silhouette.api.LoginEvent.apply[whatson.model.Login](login, request)
        </td>
      </tr><tr>
        <td>
          67
        </td>
        <td>
          34
        </td>
        <td>
          2744
          -
          2873
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.concurrent.Future.map
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.silhouette.env.authenticatorService.init(authenticator)(request).map[play.api.mvc.Result](((token: whatson.auth.AuthEnv#A#Value) =&gt; Authentication.this.Ok.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
        </td>
      </tr><tr>
        <td>
          67
        </td>
        <td>
          33
        </td>
        <td>
          2804
          -
          2804
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          32
        </td>
        <td>
          2829
          -
          2859
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          play.api.mvc.Results.Status.apply
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.Ok.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          26
        </td>
        <td>
          2841
          -
          2848
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;token&quot;
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          29
        </td>
        <td>
          2841
          -
          2857
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Predef.ArrowAssoc.-&gt;
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          31
        </td>
        <td>
          2831
          -
          2831
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.http.DefaultWriteables.writeableOf_JsValue
        </td>
        <td style="background: #AEF1AE">
          http.this.Writeable.writeableOf_JsValue
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          28
        </td>
        <td>
          2852
          -
          2857
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          play.api.libs.json.Json.toJsFieldJsValueWrapper
        </td>
        <td style="background: #AEF1AE">
          json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites)
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          27
        </td>
        <td>
          2852
          -
          2852
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.json.DefaultWrites.StringWrites
        </td>
        <td style="background: #AEF1AE">
          json.this.Writes.StringWrites
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          30
        </td>
        <td>
          2832
          -
          2858
        </td>
        <td>
          Apply
        </td>
        <td>
          play.api.libs.json.Json.obj
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites)))
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          38
        </td>
        <td>
          2923
          -
          2923
        </td>
        <td>
          Select
        </td>
        <td>
          com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException.&lt;init&gt;$default$2
        </td>
        <td style="background: #F0ADAD">
          exceptions.this.IdentityNotFoundException.&lt;init&gt;$default$2
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          40
        </td>
        <td>
          2909
          -
          2975
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.concurrent.Future.failed
        </td>
        <td style="background: #F0ADAD">
          scala.concurrent.Future.failed[Nothing](new com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException(&quot;Couldn\'t find user&quot;, exceptions.this.IdentityNotFoundException.&lt;init&gt;$default$2))
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          37
        </td>
        <td>
          2953
          -
          2973
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Couldn\'t find user&quot;
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          39
        </td>
        <td>
          2923
          -
          2974
        </td>
        <td>
          Apply
        </td>
        <td>
          com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException.&lt;init&gt;
        </td>
        <td style="background: #F0ADAD">
          new com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException(&quot;Couldn\'t find user&quot;, exceptions.this.IdentityNotFoundException.&lt;init&gt;$default$2)
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          53
        </td>
        <td>
          3002
          -
          3002
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.concurrent.Execution.Implicits.defaultContext
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          52
        </td>
        <td>
          3002
          -
          3002
        </td>
        <td>
          Apply
        </td>
        <td>
          controllers.Authentication.$anonfun.&lt;init&gt;
        </td>
        <td style="background: #AEF1AE">
          new $anonfun()
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          54
        </td>
        <td>
          1915
          -
          3110
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.concurrent.Future.recover
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.credentialsProvider.authenticate(com.mohiva.play.silhouette.api.util.Credentials.apply(data.email, data.password)).flatMap[play.api.mvc.Result](((loginInfo: com.mohiva.play.silhouette.api.LoginInfo) =&gt; Authentication.this.loginService.retrieve(loginInfo).flatMap[play.api.mvc.Result](((x0$1: Option[whatson.model.Login]) =&gt; x0$1 match {
  case (value: whatson.model.Login)Some[whatson.model.Login]((login @ _)) =&gt; Authentication.this.silhouette.env.authenticatorService.create(loginInfo)(request).map[com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator](((x0$2: whatson.auth.AuthEnv#A) =&gt; x0$2 match {
  case (authenticator @ _) if data.rememberMe =&gt; {
    val c: com.typesafe.config.Config = Authentication.this.configuration.underlying;
    {
      &lt;artifact&gt; val x$1: org.joda.time.DateTime = com.mohiva.play.silhouette.api.Authenticator.Implicits.RichDateTime(Authentication.this.clock.now).+(scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$2: Some[scala.concurrent.duration.FiniteDuration] @scala.reflect.internal.annotations.uncheckedBounds = scala.Some.apply[scala.concurrent.duration.FiniteDuration](scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$3: String = authenticator.copy$default$1;
      &lt;artifact&gt; val x$4: com.mohiva.play.silhouette.api.LoginInfo = authenticator.copy$default$2;
      &lt;artifact&gt; val x$5: org.joda.time.DateTime = authenticator.copy$default$3;
      &lt;artifact&gt; val x$6: Option[play.api.libs.json.JsObject] @scala.reflect.internal.annotations.uncheckedBounds = authenticator.copy$default$6;
      authenticator.copy(x$3, x$4, x$5, x$1, x$2, x$6)
    }
  }
  case (authenticator @ _) =&gt; authenticator
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext).flatMap[play.api.mvc.Result](((authenticator: com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator) =&gt; {
    Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LoginEvent.apply[whatson.model.Login](login, request));
    Authentication.this.silhouette.env.authenticatorService.init(authenticator)(request).map[play.api.mvc.Result](((token: whatson.auth.AuthEnv#A#Value) =&gt; Authentication.this.Ok.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  }))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  case scala.None =&gt; scala.concurrent.Future.failed[Nothing](new com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException(&quot;Couldn\'t find user&quot;, exceptions.this.IdentityNotFoundException.&lt;init&gt;$default$2))
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext)))(play.api.libs.concurrent.Execution.Implicits.defaultContext).recover[play.api.mvc.Result](({
  @SerialVersionUID(value = 0) final &lt;synthetic&gt; class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,play.api.mvc.Result] with Serializable {
    def &lt;init&gt;(): &lt;$anon: Throwable =&gt; play.api.mvc.Result&gt; = {
      $anonfun.super.&lt;init&gt;();
      ()
    };
    final override def applyOrElse[A1 &lt;: Throwable, B1 &gt;: play.api.mvc.Result](x1: A1, default: A1 =&gt; B1): B1 = ((x1.asInstanceOf[Throwable]: Throwable): Throwable @unchecked) match {
      case (e @ (_: com.mohiva.play.silhouette.api.exceptions.ProviderException)) =&gt; Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;unauthorized&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)
      case (defaultCase$ @ _) =&gt; default.apply(x1)
    };
    final def isDefinedAt(x1: Throwable): Boolean = ((x1.asInstanceOf[Throwable]: Throwable): Throwable @unchecked) match {
      case (e @ (_: com.mohiva.play.silhouette.api.exceptions.ProviderException)) =&gt; true
      case (defaultCase$ @ _) =&gt; false
    }
  };
  new $anonfun()
}: PartialFunction[Throwable,play.api.mvc.Result]))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          50
        </td>
        <td>
          3063
          -
          3063
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.http.DefaultWriteables.writeableOf_JsValue
        </td>
        <td style="background: #AEF1AE">
          http.this.Writeable.writeableOf_JsValue
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          44
        </td>
        <td>
          3073
          -
          3082
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;message&quot;
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          47
        </td>
        <td>
          3086
          -
          3100
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          play.api.libs.json.Json.toJsFieldJsValueWrapper
        </td>
        <td style="background: #AEF1AE">
          json.this.Json.toJsFieldJsValueWrapper[String](&quot;unauthorized&quot;)(json.this.Writes.StringWrites)
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          46
        </td>
        <td>
          3086
          -
          3086
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.json.DefaultWrites.StringWrites
        </td>
        <td style="background: #AEF1AE">
          json.this.Writes.StringWrites
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          49
        </td>
        <td>
          3064
          -
          3101
        </td>
        <td>
          Apply
        </td>
        <td>
          play.api.libs.json.Json.obj
        </td>
        <td style="background: #AEF1AE">
          play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;unauthorized&quot;)(json.this.Writes.StringWrites)))
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          45
        </td>
        <td>
          3086
          -
          3100
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;unauthorized&quot;
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          48
        </td>
        <td>
          3073
          -
          3100
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Predef.ArrowAssoc.-&gt;
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;unauthorized&quot;)(json.this.Writes.StringWrites))
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          51
        </td>
        <td>
          3051
          -
          3102
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          play.api.mvc.Results.Status.apply
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;unauthorized&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)
        </td>
      </tr><tr>
        <td>
          77
        </td>
        <td>
          64
        </td>
        <td>
          1861
          -
          3243
        </td>
        <td>
          Apply
        </td>
        <td>
          play.api.libs.json.JsResult.recoverTotal
        </td>
        <td style="background: #AEF1AE">
          request.body.validate[whatson.model.SignInForm](whatson.model.SignInForm.dataReads).map[scala.concurrent.Future[play.api.mvc.Result]](((data: whatson.model.SignInForm) =&gt; Authentication.this.credentialsProvider.authenticate(com.mohiva.play.silhouette.api.util.Credentials.apply(data.email, data.password)).flatMap[play.api.mvc.Result](((loginInfo: com.mohiva.play.silhouette.api.LoginInfo) =&gt; Authentication.this.loginService.retrieve(loginInfo).flatMap[play.api.mvc.Result](((x0$1: Option[whatson.model.Login]) =&gt; x0$1 match {
  case (value: whatson.model.Login)Some[whatson.model.Login]((login @ _)) =&gt; Authentication.this.silhouette.env.authenticatorService.create(loginInfo)(request).map[com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator](((x0$2: whatson.auth.AuthEnv#A) =&gt; x0$2 match {
  case (authenticator @ _) if data.rememberMe =&gt; {
    val c: com.typesafe.config.Config = Authentication.this.configuration.underlying;
    {
      &lt;artifact&gt; val x$1: org.joda.time.DateTime = com.mohiva.play.silhouette.api.Authenticator.Implicits.RichDateTime(Authentication.this.clock.now).+(scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorExpiry&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$2: Some[scala.concurrent.duration.FiniteDuration] @scala.reflect.internal.annotations.uncheckedBounds = scala.Some.apply[scala.concurrent.duration.FiniteDuration](scala.concurrent.duration.FiniteDuration.apply(c.getLong(&quot;silhouette.authenticator.rememberMe.authenticatorIdleTimeout&quot;), &quot;ms&quot;));
      &lt;artifact&gt; val x$3: String = authenticator.copy$default$1;
      &lt;artifact&gt; val x$4: com.mohiva.play.silhouette.api.LoginInfo = authenticator.copy$default$2;
      &lt;artifact&gt; val x$5: org.joda.time.DateTime = authenticator.copy$default$3;
      &lt;artifact&gt; val x$6: Option[play.api.libs.json.JsObject] @scala.reflect.internal.annotations.uncheckedBounds = authenticator.copy$default$6;
      authenticator.copy(x$3, x$4, x$5, x$1, x$2, x$6)
    }
  }
  case (authenticator @ _) =&gt; authenticator
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext).flatMap[play.api.mvc.Result](((authenticator: com.mohiva.play.silhouette.impl.authenticators.JWTAuthenticator) =&gt; {
    Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LoginEvent.apply[whatson.model.Login](login, request));
    Authentication.this.silhouette.env.authenticatorService.init(authenticator)(request).map[play.api.mvc.Result](((token: whatson.auth.AuthEnv#A#Value) =&gt; Authentication.this.Ok.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;token&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[whatson.auth.AuthEnv#A#Value](token)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  }))(play.api.libs.concurrent.Execution.Implicits.defaultContext)
  case scala.None =&gt; scala.concurrent.Future.failed[Nothing](new com.mohiva.play.silhouette.impl.exceptions.IdentityNotFoundException(&quot;Couldn\'t find user&quot;, exceptions.this.IdentityNotFoundException.&lt;init&gt;$default$2))
}))(play.api.libs.concurrent.Execution.Implicits.defaultContext)))(play.api.libs.concurrent.Execution.Implicits.defaultContext).recover[play.api.mvc.Result](({
  @SerialVersionUID(value = 0) final &lt;synthetic&gt; class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,play.api.mvc.Result] with Serializable {
    def &lt;init&gt;(): &lt;$anon: Throwable =&gt; play.api.mvc.Result&gt; = {
      $anonfun.super.&lt;init&gt;();
      ()
    };
    final override def applyOrElse[A1 &lt;: Throwable, B1 &gt;: play.api.mvc.Result](x1: A1, default: A1 =&gt; B1): B1 = ((x1.asInstanceOf[Throwable]: Throwable): Throwable @unchecked) match {
      case (e @ (_: com.mohiva.play.silhouette.api.exceptions.ProviderException)) =&gt; Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;unauthorized&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)
      case (defaultCase$ @ _) =&gt; default.apply(x1)
    };
    final def isDefinedAt(x1: Throwable): Boolean = ((x1.asInstanceOf[Throwable]: Throwable): Throwable @unchecked) match {
      case (e @ (_: com.mohiva.play.silhouette.api.exceptions.ProviderException)) =&gt; true
      case (defaultCase$ @ _) =&gt; false
    }
  };
  new $anonfun()
}: PartialFunction[Throwable,play.api.mvc.Result]))(play.api.libs.concurrent.Execution.Implicits.defaultContext))).recoverTotal[scala.concurrent.Future[play.api.mvc.Result]](((x0$3: play.api.libs.json.JsError) =&gt; x0$3 match {
  case (error @ _) =&gt; scala.concurrent.Future.successful[play.api.mvc.Result](Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;invalid credentials&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue))
}))
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          59
        </td>
        <td>
          3200
          -
          3234
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Predef.ArrowAssoc.-&gt;
        </td>
        <td style="background: #F0ADAD">
          scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;invalid credentials&quot;)(json.this.Writes.StringWrites))
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          62
        </td>
        <td>
          3178
          -
          3236
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          play.api.mvc.Results.Status.apply
        </td>
        <td style="background: #F0ADAD">
          Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;invalid credentials&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue)
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          56
        </td>
        <td>
          3213
          -
          3234
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;invalid credentials&quot;
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          55
        </td>
        <td>
          3200
          -
          3209
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;message&quot;
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          58
        </td>
        <td>
          3213
          -
          3234
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          play.api.libs.json.Json.toJsFieldJsValueWrapper
        </td>
        <td style="background: #F0ADAD">
          json.this.Json.toJsFieldJsValueWrapper[String](&quot;invalid credentials&quot;)(json.this.Writes.StringWrites)
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          61
        </td>
        <td>
          3190
          -
          3190
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.http.DefaultWriteables.writeableOf_JsValue
        </td>
        <td style="background: #F0ADAD">
          http.this.Writeable.writeableOf_JsValue
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          60
        </td>
        <td>
          3191
          -
          3235
        </td>
        <td>
          Apply
        </td>
        <td>
          play.api.libs.json.Json.obj
        </td>
        <td style="background: #F0ADAD">
          play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;invalid credentials&quot;)(json.this.Writes.StringWrites)))
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          63
        </td>
        <td>
          3160
          -
          3237
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.concurrent.Future.successful
        </td>
        <td style="background: #F0ADAD">
          scala.concurrent.Future.successful[play.api.mvc.Result](Authentication.this.Unauthorized.apply[play.api.libs.json.JsObject](play.api.libs.json.Json.obj(scala.Predef.ArrowAssoc[String](&quot;message&quot;).-&gt;[play.api.libs.json.Json.JsValueWrapper](json.this.Json.toJsFieldJsValueWrapper[String](&quot;invalid credentials&quot;)(json.this.Writes.StringWrites))))(http.this.Writeable.writeableOf_JsValue))
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          57
        </td>
        <td>
          3213
          -
          3213
        </td>
        <td>
          Select
        </td>
        <td>
          play.api.libs.json.DefaultWrites.StringWrites
        </td>
        <td style="background: #F0ADAD">
          json.this.Writes.StringWrites
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          70
        </td>
        <td>
          3381
          -
          3588
        </td>
        <td>
          Apply
        </td>
        <td>
          play.api.mvc.ActionBuilder.async
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.silhouette.SecuredAction.async(((implicit request: com.mohiva.play.silhouette.api.actions.SecuredRequest[whatson.auth.AuthEnv,play.api.mvc.AnyContent]) =&gt; {
  Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LogoutEvent.apply[whatson.auth.AuthEnv#I](request.identity, request));
  Authentication.this.silhouette.env.authenticatorService.discard(request.authenticator, Authentication.this.Ok)(request)
}))
        </td>
      </tr><tr>
        <td>
          88
        </td>
        <td>
          68
        </td>
        <td>
          3438
          -
          3509
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.event.SubchannelClassification.publish
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.silhouette.env.eventBus.publish(com.mohiva.play.silhouette.api.LogoutEvent.apply[whatson.auth.AuthEnv#I](request.identity, request))
        </td>
      </tr><tr>
        <td>
          88
        </td>
        <td>
          67
        </td>
        <td>
          3470
          -
          3508
        </td>
        <td>
          Apply
        </td>
        <td>
          com.mohiva.play.silhouette.api.LogoutEvent.apply
        </td>
        <td style="background: #AEF1AE">
          com.mohiva.play.silhouette.api.LogoutEvent.apply[whatson.auth.AuthEnv#I](request.identity, request)
        </td>
      </tr><tr>
        <td>
          88
        </td>
        <td>
          66
        </td>
        <td>
          3482
          -
          3498
        </td>
        <td>
          Select
        </td>
        <td>
          com.mohiva.play.silhouette.api.actions.SecuredRequest.identity
        </td>
        <td style="background: #AEF1AE">
          request.identity
        </td>
      </tr><tr>
        <td>
          89
        </td>
        <td>
          69
        </td>
        <td>
          3514
          -
          3584
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          com.mohiva.play.silhouette.api.services.AuthenticatorService.discard
        </td>
        <td style="background: #AEF1AE">
          Authentication.this.silhouette.env.authenticatorService.discard(request.authenticator, Authentication.this.Ok)(request)
        </td>
      </tr>
    </table>
          </div>
        </div>
      </body>
    </html>